/*! builded Fri Feb 28 2020 17:34:13 */

function createCookie(a,b,c){var d,e;c?(d=new Date,d.setTime(d.getTime()+864e5*c),e="; expires="+d.toGMTString()):e="";var f,g=document.domain.split(".");1==g.length?document.cookie=a+"="+b+e+"; path=/":(f=function(a){var b=a.split(":")[0].split(".");return b.shift(),b.unshift(""),b.join(".")}(document.domain),document.cookie=a+"="+b+e+"; path=/;domain="+f)}function readCookie(a){for(var b,c=a+"=",d=document.cookie.split(";"),e=0;e<d.length;e++){for(b=d[e];" "==b.charAt(0);)b=b.substring(1,b.length);if(0==b.indexOf(c))return b.substring(c.length,b.length)}return null}function eraseCookie(a){createCookie(a,"",-1)}function isPlainObject(a){return"[object Object]"===_toString.call(a)}function NotifyErrorInfo(a){return window.NotifyError?NotifyError(a):$.toast?$.toast(a):(alert(a),void console.trace("\u5f02\u5e38\u5806\u6808"))}function getStyle(a,b){if(a.style[b])return a.style[b];if(a.currentStyle)return a.currentStyle[b];if(document.defaultView&&document.defaultView.getComputedStyle){b=b.replace(/([A-Z])/g,"-$1"),b=b.toLowerCase();var c=document.defaultView.getComputedStyle(a,"");return c&&c.getPropertyValue(b)}return null}function abortXHR(a){a&&a.readyState<4&&(a.onreadystatechange=$.noop,a.abort())}function handleNetworkError(){$("#noNetwork").css("display","block");var a=window.setInterval(function(){$.ajax({url:"https://img.alicdn.com/tps/i3/T1OjaVFl4dXXa.JOZB-114-114.png",timeout:2e3,async:!1,cache:!1}).done(function(b,c,d){console.log("readyState==="+d.readyState),console.log("status==="+d.status),window.clearInterval(a),$("#noNetwork").css("display","none")}).always(function(a,b){null})},2e3)}function isInApp(){return-1!=window.navigator.userAgent.indexOf("TeldIosWebView")||-1!=window.navigator.userAgent.indexOf("TeldAndroidWebView")}function getIP(){var a=readCookie("teldz");return a&&(a=a.split(",")[0]),a}function isWeiXin(){return"micromessenger"==window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i)}function getCurDateFormat(){return(new Date).format("yyyy-MM-dd hh:mm:ss")}function trimAll(a){return null==a?"":$.trim(a).replace(/(^\u3000*)|(\u3000*$)/g,"")}function trimData(a){var b={};for(key in a){var c=a[key];if(null!=c){var d=_toString.call(c);if("[object String]"===d)try{var e=JSON.parse(c);"[object Object]"===_toString.call(e)?b[key]=JSON.stringify(trimData(e)):b[key]=trimAll(c);continue}catch(a){b[key]=trimAll(c);continue}if("[object Array]"!==d)b[key]=c;else{for(var f=[],g=0;g<c.length;g++){"[object String]"===_toString.call(c[g])?f.push(trimAll(c[g])):f.push(trimData(c[g]))}b[key]=f}}else b[key]=""}return b}function dESEncrypt(a){var b=CryptoJS.enc.Utf8.parse("UQInaE9V"),c=CryptoJS.enc.Utf8.parse("siudqUQoprVNjiA7"),d=CryptoJS.DES.encrypt(a,b,{iv:c,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7});return CryptoJS.enc.Base64.stringify(d.ciphertext)}function uploadTrace(a,b,c,d,e){var f,g=isPC()?$.trim($("#breadcrumbs").find("small").text()):$.trim($("#mobilePageName").text()),h=p_context.SubApplication?p_context.SubApplication:"platform";getDataAsync(window.OmpSGHost+"OMPMonitor-ReportTTrace","post",{traceEntity:JSON.stringify((f={BatchID:window.BatchID,RequestID:a,TraceType:"WRP",TimeSpan:b,ServiceId:h+"-"+g,InvokeResult:c,BeginTime:d},f.ServiceId=e,f))},null,null,null,null,null,!1)}function gotoLoginConfirm(a){1!=wrpLogoutOpend&&(wrpLogoutOpend=!0,window.bootbox?(bootbox.setDefaults("locale","zh_CN"),bootbox.confirm(a,function(a){wrpLogoutOpend=!1,a&&window.wrpLogout()})):$.alert&&$.alert(a,"",function(){wrpLogoutOpend=!1,window.wrpLogout()}))}function _createCookie(a,b,c){var d,e;c?(d=new Date,d.setTime(d.getTime()+1e3*c),e="; expires="+d.toGMTString()):e="";var f,g=document.domain.split(".");1==g.length?document.cookie=a+"="+b+e+"; path=/":(f=function(a){var b=a.split(":")[0].split(".");return b.shift(),b.unshift(""),b.join(".")}(document.domain),document.cookie=a+"="+b+e+"; path=/;domain="+f)}function onLine(a){var b=new Image;b.src="https://www.baidu.com/favicon.ico?_t="+Date.now(),b.onload=function(){a&&a(!0)},b.onerror=function(){a&&a(!1)}}function ExceptionReport(a,b,c,d){var e={exception:JSON.stringify({ModuleName:"WRP",WebUrl:a,AppVersion:"",Context:b,ExpInfo:encodeURIComponent(c),ExpCode:d,ExpLevel:"",ExpStack:"",ExpType:"\u8bbf\u95eeSG\u5f02\u5e38"})},f={async:!0,url:FrameSGHost+"WRPFrame-ExceptionLog",type:"post",data:e,isAnonymous:!0,errorRetry:!1};return console.error(c),_commonGetData(f)}function copyObject2Object(a,b){for(var c=Object.keys(a),d=0;d<c.length;d++){var e=c[d];b[e]=a[e]}}function storageTest(a){if(!a)return!1;try{return a.setItem("key","value"),a.removeItem("key"),!0}catch(a){return!1}}function _zip(a,b,c){var d=document.createElement("canvas"),e=d.getContext("2d"),f=new Image;f.src=a,f.onload=function(){var a=this,g=a.width,h=a.height,i=g/h;g=b.width||g,h=b.height||g/i;var j=.7;d.width=g,d.height=h,e.drawImage(a,0,0),b.quality&&b.quality<=1&&b.quality>0&&(j=b.quality);var k=d.toDataURL("image/jpeg",j);c(k),d=null,f=null}}function zipImage(a,b,c){var d=new FileReader;d.onloadend=function(a){_zip(a.target.result,b,c),d=null},d.readAsDataURL(a)}function IsOnline(){return _navigatorIsOnline}function getSgSetUrlByLocation(){var a=$.Deferred();if(window.SGSetLocation)return a.resolve(window.SGSetLocation),a.promise();var b=window.setInterval(function(){if(window.GDPosition){window.clearInterval(b);var c=window.GDPosition.addressComponent.adcode.substring(0,4);getDataAsync(window.SgSetApiUrl+c,"get",{},function(b){return 0==b.state?(NotifyError(b.errmsg),void a.reject(b.errmsg)):b.data&&""!=b.data?(window.SGSetLocation="//"+b.data,void a.resolve(window.SGSetLocation)):void a.reject(b.errmsg)},null,null,!1)}},200);return a.promise()}function _webSgParamSetting(a,b,c){setMaxDigits(129);var d=new RSAKeyPair(__c,"010001",__d),e=getIP(),f=Math.round((new Date).getTime()/1e3),g=null!=GetGlobelData("teldTTT")&&0==isNaN(GetGlobelData("teldTTT"))?GetGlobelData("teldTTT"):0;null!=b&&(g=b-f,SaveGlobelData("teldTTT",g)),f+=new Number(g);var h=encryptedString(d,f+"");if(h.length<256){for(var i=256-h.length,j=[],k=0;k<i;k++)j.push(0);h=j.join("")+h}var d=CryptoJS.enc.Utf8.parse("eIVkQtpL4LgrMT4jqBT0tvbYVQnAJzsG"),l=CryptoJS.enc.Utf8.parse("rL8qLVLCxLVq5sQg"),m=CryptoJS.AES.encrypt(h,d,{iv:l,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7}),n=CryptoJS.enc.Base64.stringify(m.ciphertext),o=!readCookie("teldc")||"1"==readCookie("teldc");return a["X-Token"]=readCookie(o?"teldk":"telda"),a.WTS=f,a.WVER=n,a.WSDI=e,a.WRS="WEB",a.WCOI="",a.WCOL="",a.ClientTime=getCurDateFormat(),a.DiffentTime=g,a["API-VERSION"]=window.APIVERSION,a["PAGE-URL"]=window.location.href,window.BatchID&&c&&(a["Teld-RequestID"]=(new Date).getTime()+""+randomNum(10)),a}function aLogin(){return _refreshToken(JSON.stringify({DeviceType:"WEB",ReqSource:100,ClientIP:getIP()}),window.aLoginUrl,"loginInfo",!0)}function _refreshToken(a,b,c,d){var e=Math.round((new Date).getTime()/1e3)+"",f=cajess(e).substring(0,16),g=cajess(a,e+"000000",f),h={};return h[c]=JSON.stringify({Data:g,UTS:e,UVER:f,UUID:(new Date).getTime()+""+randomNum(10)}),h=sgParamSetting(h),$.ajax({url:b,type:"POST",timeout:1e4,data:h,dataType:"json",cache:!1,async:!1}).done(function(a,b,e){if(a&&"1"==a.state){var f=window.dcajess(a.data),g=window.dcajess(f.Data,f.UTS+"000000",f.UVER);1==g.TokenType?(_createCookie("teldk",g.AccessToken,g.ExpiresIn),"loginInfo"==c?_createCookie("teldz",g.ClientIP,2592e4):_createCookie("teldz",readCookie("teldz"),2592e4)):(_createCookie("telda",g.AccessToken,g.ExpiresIn),_createCookie("teldz",readCookie("teldz"),2592e4)),_createCookie("teldb",g.RefreshToken,2592e4),_createCookie("teldc",g.TokenType,2592e4)}else if(window.handleTokenTimeout){var h=window.handleTokenTimeout.call(null);if(0==h)return}else d||_goToLoginPage()}).fail(function(a,b,c){if(window.handleTokenTimeout){if(0==window.handleTokenTimeout.call(null))return}else onLine(function(a){if(a){if(console.log("\u7f51\u7edc\u7545\u901a"),!d)return void _goToLoginPage()}else console.log("\u7f51\u7edc\u6545\u969c")})})}function recordErrorLocal(a,b,c){return}function GetDateTime(){isInApp()||getDataAsync(FrameSGHost+"WRPFrame-GetDateTime","get",null,function(a){if(a){var b=parseInt(a.split("").reverse().join("")),c=Math.round((new Date).getTime()/1e3);SaveGlobelData("teldTTT",b-c)}})}function autoRefreshToken(a){new Timer(function(){window.refreshToken("0"!=readCookie("teldc"))},6e4).start()}function wrpGetCity(){function a(a){window.GDPosition=a}function b(a){console.log(a.message)}if(window.AMap&&-1==window.location.href.indexOf("NoAuth=true")){var c=new AMap.Map("iCenter");c.plugin("AMap.Geolocation",function(){window.geolocation=new AMap.Geolocation({enableHighAccuracy:!0}),c.addControl(geolocation),geolocation.getCurrentPosition(),AMap.event.addListener(geolocation,"complete",a),AMap.event.addListener(geolocation,"error",b)})}}window.__c="010001",window.__d="C2D84A72668932EBE5CC2BADB5DE288E59AD587775C1E45F33F6CC9DAB376C793AFF12050C0648D5C3016F685B9F4FA2460A59B6B07793808B4E68A883CA2830FD7895C66F68F64A829DB99DEDE978EC2E04711184A872C1F43956B1B72CFA803C1D677BAE386209368B3F3ED7A8CB06BEC64B0D0369EE62A49E6B417FC55959",window.APIVERSION="1.0.0.2";var wrpLogoutOpend=!1,defalultAjaxParam={async:!0,url:null,type:"post",data:null,sucCallbackFunc:null,errCallbackFunc:null,scope:null,withCredentials:!0,showError:!0,istrace:!0,tokenRetry:0,unsafeRetry:0,timeout:12e4,isAnonymous:!1,dataEncrypt:null,errorRetry:!0};window.hasNoAuth=function(){return-1!=window.location.href.indexOf("NoAuth")},window.Timer=function(a,b){this.curTimer=null,this.cb=a,this.interval=b,this.uid=randomNum(16)},Timer.prototype.start=function(){var a=this;a.curTimer=window.setTimeout(function b(){a.cb.call(null),window.clearTimeout(a.curTimer),a.curTimer=window.setTimeout(b,a.interval)},a.interval)},Timer.prototype.clear=function(){console.log("\u6e05\u7406\u4e86timer"),window.clearTimeout(this.curTimer)},window.Date.prototype.format=function(a){var b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var c in b)new RegExp("("+c+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[c]:("00"+b[c]).substr((""+b[c]).length)));return a},window.Notify=function(a,b,c,d,e,f,g){toastr&&(toastr.options.positionClass="toast-"+b,toastr.options.extendedTimeOut=0,toastr.options.timeOut=c,toastr.options.closeButton=f,toastr.options.iconClass=e+" toast-"+d,toastr.options.tapToDismiss=!g,toastr.custom(a))},window.getNotifyPos=function(){return isPC()?"bottom-right":"top-right"},window.NotifyWarning=function(a){Notify(a,getNotifyPos(),"3000","warning","fa-exclamation-triangle",!0)},window.NotifySuccess=function(a){Notify(a,getNotifyPos(),"3000","success","fa-edit",!0)},window.NotifyError=function(a){return Notify(a,getNotifyPos(),"3000","danger","fa-times",!0)};var _toString=Object.prototype.toString;window.tokenRefreshRetry=0,window.commited=!1;var changeDataKeyPrefix="_vc_",rsubmittable=/^(?:input|select|textarea|keygen)/i,rcheckableType=/^(?:checkbox|radio)$/i,cachedScrollbarWidth;window.isVisitable=function(a){var b=a.offset().top;return b>=$(window).scrollTop()&&b<$(window).scrollTop()+$(window).height()},window.hasScroll=function(a){var b=document.getElementById(a);return b.scrollHeight>b.clientHeight||b.offsetHeight>b.clientHeight},window.scrollbarWidth=function(){if(void 0!==cachedScrollbarWidth)return cachedScrollbarWidth;var a,b,c=$("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),d=c.children()[0];return $("body").append(c),a=d.offsetWidth,c.css("overflow","scroll"),b=d.offsetWidth,a===b&&(b=c[0].clientWidth),c.remove(),cachedScrollbarWidth=a-b},window.randomUrl=function(a){return a=a.indexOf("?")>=0?a+"&r="+Math.random():a+"?r="+Math.random()},window.isInFrame=function(){return window.customIsInFrame?window.customIsInFrame.call(null):window.self!=window.top},window.addEventListener("message",function(a){return"gotoLogin"==a.data?(eraseCookie("TELDSID"),eraseCookie("telda"),eraseCookie("teldb"),eraseCookie("TELDSID"),void window.location.reload()):"fullScreen"==a.data?void $("#fullscreen-toggler").click():void 0}),window._wrpClearSessionCookies=function(){RemoveGlobelData("teldTTT"),eraseCookie("TELDSID"),eraseCookie("telda"),eraseCookie("teldb"),eraseCookie("teldc"),eraseCookie("teldd"),eraseCookie("teldk"),eraseCookie("teldz"),eraseCookie("TELDSID")},window._goToLoginPage=function(){_wrpClearSessionCookies();var a;if(isInFrame())return _clearMenuCookie(),window.top.postMessage("gotoLogin","*"),void(window.location.href="//web"+domain+"/blank.html");a="?redirect_uri="+encodeURIComponent(window.location.href),window.location.href=window.UserCenterUrl+a,_clearMenuCookie()},window._clearMenuCookie=function(){eraseCookie(getMenuCookieKey()),eraseCookie(getMobileMenuCookieKey()),eraseCookie(getMenuGroupCookieKey())},Date.now||(Date.now=function(){return(new Date).getTime()}),window.pendingRequests={},window.ajaxPrefilter=!1,window.jQuery&&$.ajaxPrefilter(function(a,b,c){if(window.ajaxPrefilter){var d=a.url;/&r=0.[0-9]+$/.test(d)&&(d=d.split("&r=")[0]),pendingRequests[d]?c.abort():pendingRequests[d]=c;var e=a.complete;a.complete=function(a,b){delete pendingRequests[d],jQuery.isFunction(e)&&e.apply(this,arguments)}}}),window.Zepto&&($.ajaxSettings.beforeSend=function(a,b){if(window.ajaxPrefilter){var c=b.url;/&r=0.[0-9]+$/.test(c)&&(c=c.split("&r=")[0]),pendingRequests[c]?a.abort():pendingRequests[c]=a;var d=b.complete;b.complete=function(a,b){delete pendingRequests[c],Zepto.isFunction(d)&&d.apply(this,arguments)}}}),window.randomNum=function(a){for(var b="",c=0;c<a;c++)b+=Math.floor(10*Math.random());return b},window.getDevice=function(){var a=navigator.userAgent.toLowerCase();return"micromessenger"==a.match(/MicroMessenger/i)?"wx":/iphone|ipad|ipod/.test(a)?"ios":/android/.test(a)?"android":void 0},window.wrpLogout=function(a){window.frames.length>0&&window.frames[0].postMessage("gotoLogin","*"),window.setTimeout(function(){if(readCookie("telda"))window.getDataSync(FrameServiceHostSYS+"UserAPI-WEBUI-Logout","POST",{logoutInfo:JSON.stringify({AccessToken:readCookie("telda"),TELDSID:readCookie("TELDSID")})},function(a){_wrpClearSessionCookies();var b=window.location.href;window.isSaas&&(b=window.location.protocol+"//"+window.p_context.SubApplication+window.domain);var c="?redirect_uri="+encodeURIComponent(b);window.location.href=window.UserCenterUrl+c},null,null,!1);else{_wrpClearSessionCookies();var a=window.location.href;window.isSaas&&(a=window.location.protocol+"//"+window.p_context.SubApplication+window.domain);var b="?redirect_uri="+encodeURIComponent(a);window.location.href=window.UserCenterUrl+b}},500)},window.IsLogin=function(){return!!readCookie("telda")||!(readCookie("telda")||!readCookie("teldb"))&&(refreshToken(),!!readCookie("telda"))},window.PVCount=function(a,b){var c={async:!0,url:FrameSGHost+"WRPFrame-PageAccessCount",type:"post",data:a,sucCallbackFunc:function(a){b&&b.call(null)},isAnonymous:!0,errorRetry:!1},d=readCookie("teldc");null==d||"1"==d?_commonGetData(c):getWrpUserInfo().then(function(b){var d=JSON.parse(a.filter);d.Ext5=b.DepartmentId,c.data={filter:JSON.stringify(d)},_commonGetData(c)})},$(document).on("keydown",function(a){var b=a.target;if(8==a.which){if("text"==b.type||"textarea"==b.type||"password"==b.type||"search"==b.type||"tel"==b.type||"number"==b.type)return!0;if(b.readOnly&&1!=b.readOnly)return!0;if("DIV"==b.tagName&&"true"==b.getAttribute("contenteditable"))return!0;a.which=0,a.returnValue=!1}return!0}),window.setPageName=function(a){var b='<small><i class="fa fa-angle-right"></i>'+a+"</small>";$("#breadcrumbs").find("small").remove(),$("#breadcrumbs").append(b)},window.saveCondition=function(a,b){a.$store.commit("updCondition",b)},window.getOldCondition=function(a){return a.$store.state.condition},window.toBlank=function(a){return a||""},window.getApplicationId=function(a){var b=window.FrameApplicationInfo;return b&&b.hasOwnProperty(a)?b[a]:-1},window.getCurDomainUrl=function(){var a=$("#CurDomainUrl").val();return a||(a=""),a},window.getPerformanceNow=function(){return window.performance?window.performance.now():(new Date).getTime()},window.SaveGlobelData=function(a,b){storageTest(window.sessionStorage)?window.sessionStorage.setItem(a,b):_createCookie(a,b)},window.GetGlobelData=function(a){return storageTest(window.sessionStorage)?window.sessionStorage.getItem(a):readCookie(a)},window.RemoveGlobelData=function(a){storageTest(window.sessionStorage)?window.sessionStorage.removeItem(a):eraseCookie(a)},window.getMenuCookieKey=function(){return window.p_context?window.p_context.SubApplication+location.host.split(".")[0]+"curMenuId":null},window.getMobileMenuCookieKey=function(){return location.host.split(".")[0]+"curMobileMenuId"},window.getMenuGroupCookieKey=function(){return window.p_context?window.p_context.SubApplication+location.host.split(".")[0]+"menuGroupId":null},window.resetSelectedMenu=function(){if(isPC()&&!hasNoAuth()){var a=getMenuId()?getMenuId():readCookie(getMenuCookieKey()),b=window.groupId;if(!a&&!b&&1==window.isMenuGroup||!a&&0==window.isMenuGroup){if($("#pcmenu").find("li").eq(0).addClass("active"),"yes"!=localStorage.getItem(window.defaultFirstDataKey))return;return void(0==window.MenuType?($(".sidebar-menu").find("li").eq(0).addClass("open"),$(".sidebar-menu").find(".vue-menu").eq(0).click()):($(".menu-floor-1").eq(0).addClass("active"),$(".menu-floor-1").eq(0).find(".vue-menu").eq(0).click()))}if(a&&!b&&window.isMenuGroup,a&&b&&window.isMenuGroup&&($("#pcmenu").find("li").each(function(){$(this).removeClass("active")}),$("#"+b).parent().addClass("active"),$("#"+b).closest(".more-group-li").length>0&&$("#"+b).closest(".more-group-li").addClass("active")),$(".sidebar-menu").find("li").each(function(){$(this).removeClass("open"),$(this).find(".submenu").each(function(){$(this).removeClass("open"),$(this).find("li.active").removeClass("active"),$(this).css("display","none")})}),$("li.menu-floor-1.active").find("li.active").removeClass("active"),$("li.menu-floor-1.active").removeClass("active").removeClass("open"),0==window.MenuType){$("#"+a).addClass("active").parent().css("display","block").closest("li").addClass("open");var c=$("#"+a).find("span").eq(0).text();setPageName(c)}else{$("#"+a).addClass("active"),$("#"+a).closest(".menu-floor-1").addClass("active");var c=$("#"+a).find("span").eq(0).text();setPageName(c)}}},window.saveCurrentData=function(a){$(".v-change").each(function(){if(!this.name||$(this).is(":disabled")||!rsubmittable.test(this.nodeName))return!0;var b;b=rcheckableType.test(this.type)?""+$(this).prop("checked"):$(this).val();var c=[a,changeDataKeyPrefix,this.name].join("");SaveGlobelData(c,b)})},window.getChangeData=function(a){var b={},c=[];if($(".v-change").each(function(){if(!this.name||$(this).is(":disabled")||!rsubmittable.test(this.nodeName))return!0;var d;d=rcheckableType.test(this.type)?""+$(this).prop("checked"):$(this).val();var e=[a,changeDataKeyPrefix,this.name].join("");GetGlobelData(e)!=d&&(b[this.name]=d),c.push(e)}),0==Object.keys(b).length)return null;$(".v-change-key").each(function(){b[this.name]=$(this).val()});for(var d=0;d<c.length;d++)RemoveGlobelData(c[d]);return b},window.GetPageControls=function(a){var b="";return $(a).find("input,select,textarea").each(function(a){var c=$(this).attr("id"),d=$(this).val();switch($(this).attr("type")){case"checkbox":$(this).is(":checked")?b+='"'+c+'":"1",':b+='"'+c+'":"0",';break;default:b+='"'+c+'":"'+$.trim(d)+'",'}}),b=b.substr(0,b.length-1),jQuery.parseJSON("{"+b+"}")},window.GetPageRadio=function(a){var b="";return $(a).find("input,select,textarea").each(function(a){var c=$(this).attr("id"),d=$(this).val();switch($(this).attr("type")){case"checkbox":$(this).attr("checked")?b+='"'+c+'":"1",':b+='"'+c+'":"0",';break;case"radio":var e=$(this).attr("name");d=$("input[name="+e+"]:checked").val(),b+='"'+e+'":"'+$.trim(d)+'",';break;default:""==d&&(d=""),b+='"'+c+'":"'+$.trim(d)+'",'}}),b=b.substr(0,b.length-1),jQuery.parseJSON("{"+b+"}")},window.SetPageControls=function(a){for(var b in a){var c=$("[id="+b+"]"),d=$.trim(a[b]).replace("&nbsp;","");switch(c.attr("type")){case"checkbox":1==d?c.attr("checked","checked"):c.removeAttr("checked");break;default:c.val(d)}}},window.lrtrim=function(a){return a.replace(/(^\s*)|(\s*$)/g,"")},window.setClipboardData=function(a){if(window.clipboardData)window.clipboardData.setData("text",a);else{var b=document.getElementById("clipboardText");if(!b){$("<input type='text' id='clipboardText' style='position: absolute;top: -10000px;' value=''>").appendTo($(document.body)),b=document.getElementById("clipboardText")}b.value=a,b.focus(),b.select();try{document.execCommand("copy",!1,null)}catch(a){}}},window.isPC=function(){var a=navigator.userAgent,b=a.match(/(Android);?[\s\/]+([\d.]+)?/),c=a.match(/(iPad).*OS\s([\d_]+)/),d=a.match(/(iPod)(.*OS\s([\d_]+))?/),e=!c&&a.match(/(iPhone\sOS)\s([\d_]+)/);return(document.documentElement.clientWidth||document.body.clientWidth)>1024&&!b&&!c&&!d&&!e},window.getQueryString=function(a,b){var c=new RegExp("mid=([^&]*)","i"),d=(b||window.location.href).match(c);return null!=d?d[1]:null},window._getQueryString=function(a,b){var c=new RegExp(a+"=([^&]*)","i"),d=(b||window.location.href).match(c);return null!=d?d[1]:null},window.getMenuId=function(a){return getQueryString("mid",a)},window.rememberMid=function(a){if(-1==a.split("?")[0].indexOf("Frame/Index")){var b=getMenuId(a);b&&createCookie(getMenuCookieKey(),b)}},window.removeMid=function(){eraseCookie(getMenuCookieKey()),eraseCookie(getMenuGroupCookieKey())},window.getFirstErrElement=function(){return $("input.has-error").first()},window.showLoading=function(){$("#innerLoading").removeClass("loading-inactive")},window.hideLoading=function(){$("#innerLoading").addClass("loading-inactive")},$.smartScroll=function(a,b){if(b&&!a.data("isBindScroll")){var c={posY:0,maxscroll:0};a.on({touchstart:function(a){var d=a.touches[0]||a,e=$(a.target);if(e.length){var f;e.is(b)?f=e:0==(f=e.parents(b)).length&&(f=null),f&&(c.elScroll=f,c.posY=d.pageY,c.scrollY=f.scrollTop(),c.maxscroll=f[0].scrollHeight-f[0].clientHeight)}},touchmove:function(){c.maxscroll<=0&&event.preventDefault();var a=c.elScroll,b=a.scrollTop(),d=event.touches[0]||event,e=d.pageY-c.posY;return e>0&&0==b?void event.preventDefault():e<0&&b+1>=c.maxscroll?void event.preventDefault():void 0},touchend:function(){c.maxscroll=0}}),a.data("isBindScroll",!0)}},window.hasFavorited=function(a){var b=window.webFrameFavorate;if(!b)return!1;var c=getMenuId(a),d=window.location.href,e=!1;for(var f in b){var g=b[f];if(c&&""!=c){if(g.MENUID==c){e=!0;break}}else if(-1!=d.indexOf(g.APPLICATION+g.NAVIGATEURL)){e=!0;break}}return e};var _navigatorIsOnline=navigator.onLine;window.addEventListener("online",function(){_navigatorIsOnline=!0},!1),window.addEventListener("offline",function(){_navigatorIsOnline=!1},!1),window.getBrowerType=function(){return function(){var a,b=navigator.userAgent.toLowerCase(),c=null;return(a=b.match(/msie ([\d.]+)/))?(c="IE",a[1]&&(c+=parseInt(a[1]))):c=(a=b.match(/firefox\/([\d.]+)/))?"firefox":-1!=b.indexOf("rv:11")?"IE11":-1!=b.indexOf("edge")?"Edge":(a=b.match(/chrome\/([\d.]+)/))?"Chrome":(a=b.match(/opera.([\d.]+)/))?"Opera":(a=b.match(/version\/([\d.]+).*safari/))?"Safari":-1!=b.indexOf("micromessenger")?"\u5fae\u4fe1":-1!=b.indexOf("dingtalk")?"\u9489\u9489":"\u5176\u4ed6",c}()},window.getI18nValByKey=function(a){if(!p_context||!a||""==a)return"";try{return p_context.isPlatformIndex?window.localeMessage.localeMsg[a]:window.localeMessage[p_context.SubApplication][a]}catch(a){return""}},window.getWrpUserInfo=function(){var a=$.Deferred(),b=window.setInterval(function(){window.WrpUserInfo&&""!=window.WrpUserInfo.Mobile&&(window.clearInterval(b),a.resolve(window.WrpUserInfo))},200);return a.promise()},function(){function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){return e(b[g][1][a]||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}return a}()({1:[function(a,b,c){var d=function(a){"use strict";function b(a,b,c,e){var f=b&&b.prototype instanceof d?b:d,g=Object.create(f.prototype),h=new m(e||[]);return g._invoke=i(a,c,h),g}function c(a,b,c){try{return{type:"normal",arg:a.call(b,c)}}catch(a){return{type:"throw",arg:a}}}function d(){}function e(){}function f(){}function g(a){["next","throw","return"].forEach(function(b){a[b]=function(a){return this._invoke(b,a)}})}function h(a){function b(d,e,f,g){var h=c(a[d],a,e);if("throw"!==h.type){var i=h.arg,j=i.value;return j&&"object"==typeof j&&r.call(j,"__await")?Promise.resolve(j.__await).then(function(a){b("next",a,f,g)},function(a){b("throw",a,f,g)}):Promise.resolve(j).then(function(a){i.value=a,f(i)},function(a){return b("throw",a,f,g)})}g(h.arg)}function d(a,c){function d(){return new Promise(function(d,e){b(a,c,d,e)})}return e=e?e.then(d,d):d()}var e;this._invoke=d}function i(a,b,d){var e=w;return function(f,g){if(e===y)throw new Error("Generator is already running");if(e===z){if("throw"===f)throw g;return o()}for(d.method=f,d.arg=g;;){var h=d.delegate;if(h){var i=j(h,d);if(i){if(i===A)continue;return i}}if("next"===d.method)d.sent=d._sent=d.arg;else if("throw"===d.method){if(e===w)throw e=z,d.arg;d.dispatchException(d.arg)}else"return"===d.method&&d.abrupt("return",d.arg);e=y;var k=c(a,b,d);if("normal"===k.type){if(e=d.done?z:x,k.arg===A)continue;return{value:k.arg,done:d.done}}"throw"===k.type&&(e=z,d.method="throw",d.arg=k.arg)}}}function j(a,b){var d=a.iterator[b.method];if(d===p){if(b.delegate=null,"throw"===b.method){if(a.iterator.return&&(b.method="return",b.arg=p,j(a,b),"throw"===b.method))return A;b.method="throw",b.arg=new TypeError("The iterator does not provide a 'throw' method")}return A}var e=c(d,a.iterator,b.arg);if("throw"===e.type)return b.method="throw",b.arg=e.arg,b.delegate=null,A;var f=e.arg;return f?f.done?(b[a.resultName]=f.value,b.next=a.nextLoc,"return"!==b.method&&(b.method="next",b.arg=p),b.delegate=null,A):f:(b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,A)}function k(a){var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]),2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]),this.tryEntries.push(b)}function l(a){var b=a.completion||{};b.type="normal",delete b.arg,a.completion=b}function m(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(k,this),this.reset(!0)}function n(a){if(a){var b=a[t];if(b)return b.call(a);if("function"==typeof a.next)return a;if(!isNaN(a.length)){var c=-1,d=function b(){for(;++c<a.length;)if(r.call(a,c))return b.value=a[c],b.done=!1,b;return b.value=p,b.done=!0,b};return d.next=d}}return{next:o}}function o(){return{value:p,done:!0}}var p,q=Object.prototype,r=q.hasOwnProperty,s="function"==typeof Symbol?Symbol:{},t=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",v=s.toStringTag||"@@toStringTag";a.wrap=b;var w="suspendedStart",x="suspendedYield",y="executing",z="completed",A={},B={};B[t]=function(){return this};var C=Object.getPrototypeOf,D=C&&C(C(n([])));D&&D!==q&&r.call(D,t)&&(B=D);var E=f.prototype=d.prototype=Object.create(B);return e.prototype=E.constructor=f,f.constructor=e,f[v]=e.displayName="GeneratorFunction",a.isGeneratorFunction=function(a){var b="function"==typeof a&&a.constructor;return!!b&&(b===e||"GeneratorFunction"===(b.displayName||b.name))},a.mark=function(a){return Object.setPrototypeOf?Object.setPrototypeOf(a,f):(a.__proto__=f,v in a||(a[v]="GeneratorFunction")),a.prototype=Object.create(E),a},a.awrap=function(a){return{__await:a}},g(h.prototype),h.prototype[u]=function(){return this},a.AsyncIterator=h,a.async=function(c,d,e,f){var g=new h(b(c,d,e,f));return a.isGeneratorFunction(d)?g:g.next().then(function(a){return a.done?a.value:g.next()})},g(E),E[v]="Generator",E[t]=function(){return this},E.toString=function(){return"[object Generator]"},a.keys=function(a){var b=[];for(var c in a)b.push(c);return b.reverse(),function c(){for(;b.length;){var d=b.pop();if(d in a)return c.value=d,c.done=!1,c}return c.done=!0,c}},a.values=n,m.prototype={constructor:m,reset:function(a){if(this.prev=0,this.next=0,this.sent=this._sent=p,this.done=!1,this.delegate=null,this.method="next",this.arg=p,this.tryEntries.forEach(l),!a)for(var b in this)"t"===b.charAt(0)&&r.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=p)},stop:function(){this.done=!0;var a=this.tryEntries[0],b=a.completion;if("throw"===b.type)throw b.arg;return this.rval},dispatchException:function(a){function b(b,d){return f.type="throw",f.arg=a,c.next=b,d&&(c.method="next",c.arg=p),!!d}if(this.done)throw a;for(var c=this,d=this.tryEntries.length-1;d>=0;--d){var e=this.tryEntries[d],f=e.completion;if("root"===e.tryLoc)return b("end");if(e.tryLoc<=this.prev){var g=r.call(e,"catchLoc"),h=r.call(e,"finallyLoc");if(g&&h){if(this.prev<e.catchLoc)return b(e.catchLoc,!0);if(this.prev<e.finallyLoc)return b(e.finallyLoc)}else if(g){if(this.prev<e.catchLoc)return b(e.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<e.finallyLoc)return b(e.finallyLoc)}}}},abrupt:function(a,b){for(var c=this.tryEntries.length-1;c>=0;--c){var d=this.tryEntries[c];if(d.tryLoc<=this.prev&&r.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var e=d;break}}e&&("break"===a||"continue"===a)&&e.tryLoc<=b&&b<=e.finallyLoc&&(e=null);var f=e?e.completion:{};return f.type=a,f.arg=b,e?(this.method="next",this.next=e.finallyLoc,A):this.complete(f)},complete:function(a,b){if("throw"===a.type)throw a.arg;return"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):"normal"===a.type&&b&&(this.next=b),A},finish:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.finallyLoc===a)return this.complete(c.completion,c.afterLoc),l(c),A}},catch:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.tryLoc===a){var d=c.completion;if("throw"===d.type){var e=d.arg;l(c)}return e}}throw new Error("illegal catch attempt")},delegateYield:function(a,b,c){return this.delegate={iterator:n(a),resultName:b,nextLoc:c},"next"===this.method&&(this.arg=p),A}},a}("object"==typeof b?b.exports:{});try{regeneratorRuntime=d}catch(a){Function("r","regeneratorRuntime = r")(d)}},{}],2:[function(a,b,c){b.exports=a("regenerator-runtime")},{"regenerator-runtime":1}],3:[function(a,b,c){"use strict";function d(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){return void c(a)}h.done?b(i):Promise.resolve(i).then(d,e)}function e(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){function g(a){d(i,e,f,g,h,"next",a)}function h(a){d(i,e,f,g,h,"throw",a)}var i=a.apply(b,c);g(void 0)})}}function f(){window.teld.updateRefreshToken()}function g(){var a=document.createElement("iframe");a.id="IOSNotifyFrame",a.src='//jsoc///{"action":"askForToken"}',document.documentElement.appendChild(a),setTimeout(function(){document.documentElement.removeChild(a)},0)}function h(){var a=document.createElement("iframe");a.src='//JSOC///{"action":"login","params":""}',a.style.display="none",document.documentElement.appendChild(a),setTimeout(function(){document.documentElement.removeChild(a)},0)}function i(a,b,c){return j.apply(this,arguments)}function j(){return j=e(m.default.mark(function a(b,c,d){var e;return m.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e=void 0,
-1!=window.navigator.userAgent.indexOf("TeldIosWebView")&&(e=new Promise(function(a,b){window.setupWebViewJavascriptBridge(function(c){c.callHandler("H5AskForDeviceInfo","",function(c){c&&("1"==c.state?a(c.data):b(null))})})})),-1!=window.navigator.userAgent.indexOf("TeldAndroidWebView")&&(e=new Promise(function(a,b){window.deviceInfo=window.teld.askForDeviceInfo(),a(deviceInfo)})),a.abrupt("return",e);case 4:case"end":return a.stop()}},a)})),j.apply(this,arguments)}function k(a){return l.apply(this,arguments)}function l(){return l=e(m.default.mark(function a(b){return m.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(-1==window.navigator.userAgent.indexOf("TeldIosWebView")){a.next=2;break}return a.abrupt("return",new Promise(function(a,b){window.sendToken=function(b,c){"1"==readCookie("teldc")?_createCookie("teldk",b,1296e3):_createCookie("telda",b,1296e3),_createCookie("teldb",c,1296e3),a()},g()}));case 2:if(-1==window.navigator.userAgent.indexOf("TeldAndroidWebView")){a.next=4;break}return a.abrupt("return",new Promise(function(a,b){f(),a()}));case 4:case"end":return a.stop()}},a)})),l.apply(this,arguments)}var m=function(a){return a&&a.__esModule?a:{default:a}}(a("@babel/runtime/regenerator")),n=function(){_wrpClearSessionCookies(),"android"==getDevice()?window.teld.goToLogin():h()};window.setupWebViewJavascriptBridge=function(a){if(!isInApp())return alert("\u6b64\u529f\u80fd\u53ea\u652f\u6301\u5728\u7279\u6765\u7535app\u4e2d\u4f7f\u7528");if(window.WebViewJavascriptBridge)return a(WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(a);window.WVJBCallbacks=[a];var b=document.createElement("iframe");b.style.display="none",b.src="teld://__bridge_loaded__",document.documentElement.appendChild(b),setTimeout(function(){document.documentElement.removeChild(b)},0)},window.sgParamSetting=function(){var a=e(m.default.mark(function a(b,c,d){var e,f,g;return m.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i(b,c,d);case 2:if((e=a.sent)&&""!=e){a.next=5;break}return a.abrupt("return",window.alert("\u548capp\u4ea4\u4e92\u5931\u8d25"));case 5:return f=e.split(","),g="1"==readCookie("teldc"),b["X-Token"]=readCookie(g?"teldk":"telda"),b.ATS=f[1],b.AVER=f[2],b.ASDI=f[0],b.ARS="APP",b.ACOI=f[4],b.ACOL=f[3],b["PAGE-URL"]=window.location.href,b["API-VERSION"]=window.APIVERSION,window.BatchID&&d&&(b["Teld-RequestID"]=(new Date).getTime()+""+randomNum(10)),a.abrupt("return",b);case 18:case"end":return a.stop()}},a)}));return function(b,c,d){return a.apply(this,arguments)}}(),window.refreshToken=function(){var a=e(m.default.mark(function a(b){return m.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",k(b));case 1:case"end":return a.stop()}},a)}));return function(b){return a.apply(this,arguments)}}(),window._commonGetData=function(){var a=e(m.default.mark(function a(b){var c,d,f,g,h,i,j,k;return m.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(c=$.extend({},defalultAjaxParam,b),d=c.isAnonymous||!1,readCookie("telda")||!readCookie("teldb")){a.next=5;break}return a.next=5,refreshToken();case 5:return f=randomUrl(c.url),g=(new Date).getTime(),h=(new Date).format("yyyy-MM-dd hh:mm:ss.S"),i=_getQueryString("SID",f),j=c.data?c.data:{},c.dataEncrypt&&(k=EncryptInterface[c.dataEncrypt],j=k.encode(j)),a.next=13,window.sgParamSetting(j,null,c.istrace);case 13:return j=a.sent,a.abrupt("return",new Promise(function(a,b){$.ajax({url:f,type:"post",data:j,timeout:c.timeout,async:c.async,xhrFields:{withCredentials:null==c.withCredentials||c.withCredentials},cache:!1,success:function(){function b(a,b,c){return f.apply(this,arguments)}var f=e(m.default.mark(function b(e,f,k){var l,o,p,q,r;return m.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(null!=e&&""!=e){b.next=4;break}return c.sucCallbackFunc&&c.sucCallbackFunc(e,status,k),a(),b.abrupt("return");case 4:if(l=JSON.parse(k.responseText),!(l.hasOwnProperty("ErrorCode")||l.hasOwnProperty("errcode")&&""!=l.errcode&&null!=l.errcode)){b.next=18;break}if(o=l.hasOwnProperty("ErrorCode")?l.ErrorCode:l.errcode,p=l.hasOwnProperty("ErrorInfo")?l.ErrorInfo:l.errmsg,"TTP-SG-1013"!=o&&"TTP-SG-1011"!=o&&"TTP-Security-0002"!=o&&"TTP-SG-2003"!=o){b.next=12;break}return refreshToken(d),a(),b.abrupt("return");case 12:if("TTP-SG-1001"!=o){b.next=16;break}return n(),a(),b.abrupt("return");case 16:b.next=22;break;case 18:if("stimeout"!=e.data){b.next=22;break}return n(),a(),b.abrupt("return");case 22:c.sucCallbackFunc&&(c.dataEncrypt&&(q=EncryptInterface[c.dataEncrypt],l=q.decode(l)),c.sucCallbackFunc(l,status,k)),window.BatchID&&(r=(new Date).getTime()-g,uploadTrace(j["Teld-RequestID"],r,"OK",h,i)),a();case 25:case"end":return b.stop()}},b)}));return b}(),error:function(){function b(a,b,c){return d.apply(this,arguments)}var d=e(m.default.mark(function b(d,e,f){var k,l,n,o,p;return m.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:window.BatchID&&(k=(new Date).getTime()-g,uploadTrace(j["Teld-RequestID"],k,"Error",h,i)),b.prev=1,l=JSON.parse(d.responseText),b.next=10;break;case 5:return b.prev=5,b.t0=b.catch(1),c.errCallbackFunc&&c.errCallbackFunc(d,status,f),a(),b.abrupt("return");case 10:if(n=l.hasOwnProperty("ErrorCode")?l.ErrorCode:l.errcode,o=l.hasOwnProperty("ErrorInfo")?l.ErrorInfo:l.errmsg,"TTP-SG-2003"!=n){b.next=22;break}if(c.unsafeRetry++,d.abort(),!(c.unsafeRetry>=3)){b.next=19;break}return gotoLoginConfirm("\u65f6\u95f4\u6233\u4e0d\u6574\u5408,\u91cd\u65b0\u767b\u9646"),a(),b.abrupt("return");case 19:return c.errorRetry&&(j=sgParamSetting(j,new Number(o.split(":")[1]),c.istrace),_commonGetData(c)),a(),b.abrupt("return");case 22:this.url&&this.url.indexOf("WRPFrame-ExceptionLog"),c.errCallbackFunc&&c.errCallbackFunc(d,status,f),0==c.showError||(p=l.ErrorInfo,NotifyErrorInfo(p)),a();case 26:case"end":return b.stop()}},b,this,[[1,5]])}));return b}()})}));case 15:case"end":return a.stop()}},a)}));return function(b){return a.apply(this,arguments)}}(),window.queryDataAsync=function(){var a=e(m.default.mark(function a(b,c,d,e,f,g,h,i,j,k){var l;return m.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l={async:!0,url:b,type:c,data:d,sucCallbackFunc:e,errCallbackFunc:f,scope:g,withCredentials:h,showError:i,istrace:j,timeout:k,isAnonymous:!0},a.abrupt("return",_commonGetData(l));case 2:case"end":return a.stop()}},a)}));return function(b,c,d,e,f,g,h,i,j,k){return a.apply(this,arguments)}}(),window.queryDataSync=function(){var a=e(m.default.mark(function a(b,c,d,e,f,g,h,i,j,k){var l,n;return m.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l={async:!1,url:b,type:c,data:d,sucCallbackFunc:e,errCallbackFunc:f,scope:g,withCredentials:h,showError:i,istrace:j,timeout:k,isAnonymous:!0},a.next=3,_commonGetData(l);case 3:return n=a.sent,a.abrupt("return",n);case 5:case"end":return a.stop()}},a)}));return function(b,c,d,e,f,g,h,i,j,k){return a.apply(this,arguments)}}(),window.getDataAsync=function(){var a=e(m.default.mark(function a(b,c,d,e,f,g,h,i,j,k){var l;return m.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l={async:!0,url:b,type:c,data:d,sucCallbackFunc:e,errCallbackFunc:f,scope:g,withCredentials:h,showError:i,istrace:j,timeout:k,isAnonymous:!1},a.abrupt("return",_commonGetData(l));case 2:case"end":return a.stop()}},a)}));return function(b,c,d,e,f,g,h,i,j,k){return a.apply(this,arguments)}}(),window.getDataSync=function(){var a=e(m.default.mark(function a(b,c,d,e,f,g,h,i,j,k){var l,n;return m.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l={async:!1,url:b,type:c,data:d,sucCallbackFunc:e,errCallbackFunc:f,scope:g,withCredentials:h,showError:i,istrace:j,timeout:k,isAnonymous:!1},a.next=3,_commonGetData(l);case 3:return n=a.sent,a.abrupt("return",n);case 5:case"end":return a.stop()}},a)}));return function(b,c,d,e,f,g,h,i,j,k){return a.apply(this,arguments)}}(),window.queryDataAsyncAes=function(){var a=e(m.default.mark(function a(b,c,d,e,f,g,h,i,j,k){var l;return m.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l={async:!0,url:b,type:c,data:d,sucCallbackFunc:e,errCallbackFunc:f,scope:g,withCredentials:h,showError:i,istrace:j,timeout:k,isAnonymous:!0,dataEncrypt:"AES"},a.abrupt("return",_commonGetData(l));case 2:case"end":return a.stop()}},a)}));return function(b,c,d,e,f,g,h,i,j,k){return a.apply(this,arguments)}}(),window.queryDataSyncAes=function(){var a=e(m.default.mark(function a(b,c,d,e,f,g,h,i,j,k){var l,n;return m.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l={async:!1,url:b,type:c,data:d,sucCallbackFunc:e,errCallbackFunc:f,scope:g,withCredentials:h,showError:i,istrace:j,timeout:k,isAnonymous:!0,dataEncrypt:"AES"},a.next=3,_commonGetData(l);case 3:return n=a.sent,a.abrupt("return",n);case 5:case"end":return a.stop()}},a)}));return function(b,c,d,e,f,g,h,i,j,k){return a.apply(this,arguments)}}(),window.getDataAsyncAes=function(){var a=e(m.default.mark(function a(b,c,d,e,f,g,h,i,j,k){var l;return m.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l={async:!0,url:b,type:c,data:d,sucCallbackFunc:e,errCallbackFunc:f,scope:g,withCredentials:h,showError:i,istrace:j,timeout:k,isAnonymous:!1,dataEncrypt:"AES"},a.abrupt("return",_commonGetData(l));case 2:case"end":return a.stop()}},a)}));return function(b,c,d,e,f,g,h,i,j,k){return a.apply(this,arguments)}}(),window.getDataSyncAes=function(){var a=e(m.default.mark(function a(b,c,d,e,f,g,h,i,j,k){var l,n;return m.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l={async:!1,url:b,type:c,data:d,sucCallbackFunc:e,errCallbackFunc:f,scope:g,withCredentials:h,showError:i,istrace:j,timeout:k,isAnonymous:!1,dataEncrypt:"AES"},a.next=3,_commonGetData(l);case 3:return n=a.sent,a.abrupt("return",n);case 5:case"end":return a.stop()}},a)}));return function(b,c,d,e,f,g,h,i,j,k){return a.apply(this,arguments)}}()},{"@babel/runtime/regenerator":2}]},{},[3]),1==isInFrame()&&1==isInApp()&&(window.sgParamSetting=function(a,b,c){var d="1"==readCookie("teldc"),e=Math.round((new Date).getTime()/1e3),f=GetGlobelData("teldTTT")?GetGlobelData("teldTTT"):0;return b&&(f=b-e,SaveGlobelData("teldTTT",f)),e+=new Number(f),a["X-Token"]=readCookie(d?"teldk":"telda"),a.ATS=e,a.AVER=dESEncrypt(e+""),a.ASDI=readCookie("deviceID"),a.ARS="APP",a.ACOI=readCookie("ta_cityName"),a.ACOL=readCookie("ta_cityCode"),a["API-VERSION"]=window.APIVERSION,a},window._commonGetData=function(a){var b=$.extend({},defalultAjaxParam,a),c=b.isAnonymous||!1;!readCookie("telda")&&readCookie("teldb");var d=randomUrl(b.url),e=(new Date).getTime(),f=(new Date).format("yyyy-MM-dd hh:mm:ss.S"),g=_getQueryString("SID",d),h=b.data?b.data:{};if(b.dataEncrypt){var i=EncryptInterface[b.dataEncrypt];h=i.encode(h)}return h=window.sgParamSetting(h,null,b.istrace),$.ajax({url:d,type:"post",data:h,timeout:b.timeout,async:b.async,xhrFields:{withCredentials:null==b.withCredentials||b.withCredentials},cache:!1,success:function(a,d,i){if(null==a||""==a)return void(b.sucCallbackFunc&&b.sucCallbackFunc(a,status,i));var j=JSON.parse(i.responseText);if(j.hasOwnProperty("ErrorCode")||j.hasOwnProperty("errcode")&&""!=j.errcode&&null!=j.errcode){var k=j.hasOwnProperty("ErrorCode")?j.ErrorCode:j.errcode;j.hasOwnProperty("ErrorInfo")?j.ErrorInfo:j.errmsg;if("TTP-SG-1013"==k||"TTP-SG-1011"==k||"TTP-Security-0002"==k||"TTP-SG-2003"==k)return void refreshToken(c);if("TTP-SG-1001"==k)return void goToAppLogin()}else if("stimeout"==a.data)return void goToAppLogin();if(b.sucCallbackFunc){if(b.dataEncrypt){j=EncryptInterface[b.dataEncrypt].decode(j)}b.sucCallbackFunc(j,status,i)}if(window.BatchID){var l=(new Date).getTime()-e;uploadTrace(h["Teld-RequestID"],l,"OK",f,g)}},error:function(a,c,d){if(window.BatchID){var i=(new Date).getTime()-e;uploadTrace(h["Teld-RequestID"],i,"Error",f,g)}var j;try{j=JSON.parse(a.responseText)}catch(c){return void(b.errCallbackFunc&&b.errCallbackFunc(a,status,d))}var k=j.hasOwnProperty("ErrorCode")?j.ErrorCode:j.errcode,l=j.hasOwnProperty("ErrorInfo")?j.ErrorInfo:j.errmsg;if("TTP-SG-2003"==k)return b.unsafeRetry++,a.abort(),b.unsafeRetry>=3?void gotoLoginConfirm("\u65f6\u95f4\u6233\u4e0d\u6574\u5408,\u91cd\u65b0\u767b\u9646"):void(b.errorRetry&&(h=sgParamSetting(h,new Number(l.split(":")[1]),b.istrace),_commonGetData(b)));if(this.url&&this.url.indexOf("WRPFrame-ExceptionLog"),b.errCallbackFunc&&b.errCallbackFunc(a,status,d),0==b.showError);else{NotifyErrorInfo(j.ErrorInfo)}}})},window.queryDataAsync=function(a,b,c,d,e,f,g,h,i,j){var k={async:!0,url:a,type:b,data:c,sucCallbackFunc:d,errCallbackFunc:e,scope:f,withCredentials:g,showError:h,istrace:i,timeout:j,isAnonymous:!0};return _commonGetData(k)},window.queryDataSync=function(a,b,c,d,e,f,g,h,i,j){var k={async:!1,url:a,type:b,data:c,sucCallbackFunc:d,errCallbackFunc:e,scope:f,withCredentials:g,showError:h,istrace:i,timeout:j,isAnonymous:!0};return _commonGetData(k)},window.getDataAsync=function(a,b,c,d,e,f,g,h,i,j){var k={async:!0,url:a,type:b,data:c,sucCallbackFunc:d,errCallbackFunc:e,scope:f,withCredentials:g,showError:h,istrace:i,timeout:j,isAnonymous:!1};return _commonGetData(k)},window.getDataSync=function(a,b,c,d,e,f,g,h,i,j){var k={async:!1,url:a,type:b,data:c,sucCallbackFunc:d,errCallbackFunc:e,scope:f,withCredentials:g,showError:h,istrace:i,timeout:j,isAnonymous:!1};return _commonGetData(k)},window.queryDataAsyncAes=function(a,b,c,d,e,f,g,h,i,j){var k={async:!0,url:a,type:b,data:c,sucCallbackFunc:d,errCallbackFunc:e,scope:f,withCredentials:g,showError:h,istrace:i,timeout:j,isAnonymous:!0,dataEncrypt:"AES"};return _commonGetData(k)},window.queryDataSyncAes=function(a,b,c,d,e,f,g,h,i,j){var k={async:!1,url:a,type:b,data:c,sucCallbackFunc:d,errCallbackFunc:e,scope:f,withCredentials:g,showError:h,istrace:i,timeout:j,isAnonymous:!0,dataEncrypt:"AES"};return _commonGetData(k)},window.getDataAsyncAes=function(a,b,c,d,e,f,g,h,i,j){var k={async:!0,url:a,type:b,data:c,sucCallbackFunc:d,errCallbackFunc:e,scope:f,withCredentials:g,showError:h,istrace:i,timeout:j,isAnonymous:!1,dataEncrypt:"AES"};return _commonGetData(k)},window.getDataSyncAes=function(a,b,c,d,e,f,g,h,i,j){var k={async:!1,url:a,type:b,data:c,sucCallbackFunc:d,errCallbackFunc:e,scope:f,withCredentials:g,showError:h,istrace:i,timeout:j,isAnonymous:!1,dataEncrypt:"AES"};return _commonGetData(k)}),0==isInApp()&&(window.sgParamSetting=function(a,b,c){return _webSgParamSetting(a,b,c)},window.refreshToken=function(a){var b=readCookie("teldb");if(!b){if(!a)return _goToLoginPage();if(aLogin(),!readCookie("teldb"))return _goToLoginPage()}var c=b.split(".").reverse().join(".");return _refreshToken(JSON.stringify({DeviceType:"WEB",ReqSource:100,RefreshToken:c,ClientIP:getIP()}),a?window.ATokenRefreshUrl:window.newTokenRefreshUrl,"refreshToken",a)},window._commonGetData=function(a){var b=$.extend({},defalultAjaxParam,a),c=b.isAnonymous||!1,d=readCookie("teldc");"1"!=d&&null!=d||(c=!0),1==d&&!readCookie("teldk")&&readCookie("teldb")&&refreshToken(!0),0==d&&!readCookie("telda")&&readCookie("teldb")&&refreshToken(!1),c&&(readCookie("teldc")||aLogin(),!readCookie("teldk")&&readCookie("teldc")&&readCookie("teldb")&&"1"==readCookie("teldc")&&refreshToken(!0)),!readCookie("telda")&&readCookie("teldb")&&refreshToken(c);var e=randomUrl(b.url),f=(new Date).getTime(),g=(new Date).format("yyyy-MM-dd hh:mm:ss.S"),h=_getQueryString("SID",e),i=b.data?b.data:{};if(b.dataEncrypt){var j=EncryptInterface[b.dataEncrypt];i=j.encode(i)}var k=i;return i=sgParamSetting(i,null,b.istrace),$.ajax({url:e,type:"post",data:i,timeout:b.timeout,async:b.async,xhrFields:{withCredentials:null==b.withCredentials||b.withCredentials},cache:!1,success:function(a,d,e){if(null==a||""==a)return void(b.sucCallbackFunc&&b.sucCallbackFunc(a,status,e));var j=JSON.parse(e.responseText);if(j.hasOwnProperty("ErrorCode")||j.hasOwnProperty("errcode")&&""!=j.errcode&&null!=j.errcode){var k=j.hasOwnProperty("ErrorCode")?j.ErrorCode:j.errcode,l=j.hasOwnProperty("ErrorInfo")?j.ErrorInfo:j.errmsg;if("TTP-SG-1001"==k)return void _goToLoginPage();if("TTP-SG-1013"==k){if(!window.handleTokenTimeout)return void _goToLoginPage();if(0==window.handleTokenTimeout.call(null))return}if("TTP-SG-1011"==k||"TTP-Security-0002"==k)return l&&-1!=l.indexOf("IP\u4e0d\u4e00\u81f4")?void gotoLoginConfirm(window.localeMessage.localeMsg.SGIPChange):readCookie("teldb")?(b.tokenRetry++,e.abort(),b.tokenRetry>=3?void gotoLoginConfirm(window.localeMessage.localeMsg.SGRefreshTokenFalse):void(b.errorRetry&&window.refreshToken(c).then(function(){_commonGetData(b)}))):void _goToLoginPage();if("TTP-SG-2003"==k){if(b.unsafeRetry++,e.abort(),b.unsafeRetry>=3)return;if(b.errorRetry)return i=sgParamSetting(i,new Number(l.split(":")[1]),b.istrace),void _commonGetData(b);return}}if(b.sucCallbackFunc){if(b.dataEncrypt){j=EncryptInterface[b.dataEncrypt].decode(j)}b.sucCallbackFunc(j,status,e)}if(window.BatchID){var m=(new Date).getTime()-f;uploadTrace(i["Teld-RequestID"],m,"OK",g,h)}},error:function(a,c,d){if(window.BatchID){var e=(new Date).getTime()-f;uploadTrace(i["Teld-RequestID"],e,"Error",g,h)}var j;try{j=JSON.parse(a.responseText)}catch(e){return recordErrorLocal(c,d||"\u672a\u6355\u83b7\u5230\u5177\u4f53\u5f02\u5e38\u4fe1\u606f",k.WTS),void(b.errCallbackFunc&&b.errCallbackFunc(a,status,d))}var l=j.hasOwnProperty("ErrorCode")?j.ErrorCode:j.errcode,m=j.hasOwnProperty("ErrorInfo")?j.ErrorInfo:j.errmsg;if(recordErrorLocal(l,m,k.WTS),"TTP-SG-2003"==l)return b.unsafeRetry++,a.abort(),b.unsafeRetry>=3?void gotoLoginConfirm(window.localeMessage.localeMsg.SGUnlawfulRequest):void(b.errorRetry&&(i=sgParamSetting(i,new Number(m.split(":")[1]),b.istrace),_commonGetData(b)));if(this.url&&this.url.indexOf("WRPFrame-ExceptionLog"),b.errCallbackFunc&&b.errCallbackFunc(a,status,d),0==b.showError);else{var n=j.ErrorInfo;p_context.isPlatformIndex?n=window.localeMessage.localeMsg.hasOwnProperty(l)?window.localeMessage.localeMsg[l]:j.ErrorInfo:window.localeMessage.hasOwnProperty(p_context.SubApplication)&&(n=window.localeMessage[p_context.SubApplication].hasOwnProperty(l)?window.localeMessage[p_context.SubApplication][l]:j.ErrorInfo),NotifyErrorInfo(n)}}})},window.queryDataAsync=function(a,b,c,d,e,f,g,h,i,j){var k={async:!0,url:a,type:b,data:c,sucCallbackFunc:d,errCallbackFunc:e,scope:f,withCredentials:g,showError:h,istrace:i,timeout:j,isAnonymous:!0};return _commonGetData(k)},window.queryDataSync=function(a,b,c,d,e,f,g,h,i,j){var k={async:!1,url:a,type:b,data:c,sucCallbackFunc:d,errCallbackFunc:e,scope:f,withCredentials:g,showError:h,istrace:i,timeout:j,isAnonymous:!0};return _commonGetData(k)},window.getDataAsync=function(a,b,c,d,e,f,g,h,i,j){var k={async:!0,url:a,type:b,data:c,sucCallbackFunc:d,errCallbackFunc:e,scope:f,withCredentials:g,showError:h,istrace:i,timeout:j,isAnonymous:!1};return _commonGetData(k)},window.getDataSync=function(a,b,c,d,e,f,g,h,i,j){var k={async:!1,url:a,type:b,data:c,sucCallbackFunc:d,errCallbackFunc:e,scope:f,withCredentials:g,showError:h,istrace:i,timeout:j,isAnonymous:!1};return _commonGetData(k)},window.queryDataAsyncAes=function(a,b,c,d,e,f,g,h,i,j){var k={async:!0,url:a,type:b,data:c,sucCallbackFunc:d,errCallbackFunc:e,scope:f,withCredentials:g,showError:h,istrace:i,timeout:j,isAnonymous:!0,dataEncrypt:"AES"};return _commonGetData(k)},window.queryDataSyncAes=function(a,b,c,d,e,f,g,h,i,j){var k={async:!1,url:a,type:b,data:c,sucCallbackFunc:d,errCallbackFunc:e,scope:f,withCredentials:g,showError:h,istrace:i,timeout:j,isAnonymous:!0,dataEncrypt:"AES"};return _commonGetData(k)},window.getDataAsyncAes=function(a,b,c,d,e,f,g,h,i,j){var k={async:!0,url:a,type:b,data:c,sucCallbackFunc:d,errCallbackFunc:e,scope:f,withCredentials:g,showError:h,istrace:i,timeout:j,isAnonymous:!1,dataEncrypt:"AES"};return _commonGetData(k)},window.getDataSyncAes=function(a,b,c,d,e,f,g,h,i,j){var k={async:!1,url:a,type:b,data:c,sucCallbackFunc:d,errCallbackFunc:e,scope:f,withCredentials:g,showError:h,istrace:i,timeout:j,isAnonymous:!1,dataEncrypt:"AES"};return _commonGetData(k)},window.sendHeart=function(a){if(window.FrameSGHost){window.heartWorker=new Worker("/plugin/teld-heart-work.js");var b=function(){var a=readCookie("teldc");if(a&&"1"!=a){var b=$.trim($("#breadcrumbs").find("small").text()),c=isPC()?"PC":"Mobile",d=getBrowerType();getWrpUserInfo().then(function(a){var e={};readCookie("telda")?(e=window.sgParamSetting(e,null,!1),heartWorker.postMessage([window.GDPosition,window.p_context,b,c,window.FrameSGHost,d,$.param(e),a.DepartmentId])):window.refreshToken("0"!=readCookie("teldc")).then(function(){e=window.sgParamSetting(e,null,!1),heartWorker.postMessage([window.GDPosition,window.p_context,b,c,window.FrameSGHost,d,$.param(e),a.DepartmentId])})})}else;};new Timer(b,6e4).start()}}),$(function(){if(isPC()&&wrpGetCity(),0==isInApp())var a=window.setInterval(function(){(0==readCookie("teldc")&&readCookie("telda")||1==readCookie("teldc")&&readCookie("teldk"))&&(GetDateTime(),window.clearInterval(a))},1e3),b=window.setInterval(function(){window.GDPosition&&(sendHeart(),window.clearInterval(b))},1e3),c=window.setInterval(function(){readCookie("teldc")&&(autoRefreshToken(),window.clearInterval(c))},1e3)});
//# sourceMappingURL=teld-core.min.js.map